"use strict";(self.webpackChunkad_board=self.webpackChunkad_board||[]).push([[259],{6259:(P,a,r)=>{r.r(a),r.d(a,{AnnouncementsModule:()=>w});var i=r(6895),n=r(8256);let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[i.ez]}),e})();var c=r(5450),u=r(7579),l=r(8505),p=r(529);let d=(()=>{class e{constructor(t){this._http=t,this.announcementsChanged=new u.x,this.announcements=[]}getAnnouncements(){return[...this.announcements]}setAnnouncements(t){this.announcements=t,this.announcementsChanged.next([...this.announcements])}fetchAnnouncements(){return this._http.get("https://announcements-board-default-rtdb.europe-west1.firebasedatabase.app/products.json").pipe((0,l.b)(t=>{this.setAnnouncements(t)}))}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(p.eN))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),g=(()=>{class e{constructor(){this.shape="rectangle",this.animation="wave",this.borderRadius=null,this.size=null,this.width="100%",this.height="1rem"}containerClass(){return{"p-skeleton p-component":!0,"p-skeleton-circle":"circle"===this.shape,"p-skeleton-none":"none"===this.animation}}containerStyle(){return this.size?{...this.style,width:this.size,height:this.size,borderRadius:this.borderRadius}:{...this.style,width:this.width,height:this.height,borderRadius:this.borderRadius}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["p-skeleton"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",shape:"shape",animation:"animation",borderRadius:"borderRadius",size:"size",width:"width",height:"height"},decls:1,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(t,s){1&t&&n._UZ(0,"div",0),2&t&&(n.Tol(s.styleClass),n.Q6J("ngClass",s.containerClass())("ngStyle",s.containerStyle()))},dependencies:[i.mk,i.PC],styles:['.p-skeleton{position:relative;overflow:hidden}.p-skeleton:after{content:"";animation:p-skeleton-animation 1.2s infinite;height:100%;left:0;position:absolute;right:0;top:0;transform:translate(-100%);z-index:1}.p-skeleton.p-skeleton-circle{border-radius:50%}.p-skeleton-none:after{animation:none}@keyframes p-skeleton-animation{0%{transform:translate(-100%)}to{transform:translate(100%)}}\n'],encapsulation:2,changeDetection:0}),e})(),h=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[i.ez]}),e})();function f(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"a",2)(2,"div",3),n._UZ(3,"img",4),n.qZA(),n.TgZ(4,"p",5),n._uU(5),n.qZA(),n.TgZ(6,"p",6),n._uU(7),n.ALo(8,"currency"),n.qZA(),n.TgZ(9,"p",7),n._uU(10),n.qZA(),n.TgZ(11,"p",8),n._uU(12),n.ALo(13,"date"),n.qZA()(),n.BQk()),2&e){const t=n.oxw();n.xp6(3),n.s9C("alt",t.announcement.name),n.Q6J("src",t.announcement.images[0],n.LSH),n.xp6(2),n.Oqu(t.announcement.name),n.xp6(2),n.Oqu(n.lcZ(8,6,t.price)),n.xp6(3),n.Oqu(t.announcement.location),n.xp6(2),n.Oqu(n.xi3(13,8,1e3*+t.announcement.date,"MM/dd/yyyy"))}}function y(e,o){1&e&&(n.TgZ(0,"div",9),n._UZ(1,"p-skeleton",10)(2,"p-skeleton",11)(3,"p-skeleton",12)(4,"p-skeleton",13)(5,"p-skeleton",14),n.qZA())}let _=(()=>{class e{constructor(){this.announcement=null}get price(){return this.announcement.price.replace(/\s/g,"")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-announcement-item"]],inputs:{announcement:"announcement"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["skeleton",""],["href","#",1,"announcement-item"],[1,"announcement-item__img"],[3,"src","alt"],[1,"announcement-item__title"],[1,"announcement-item__price"],[1,"announcement-item__location"],[1,"announcement-item__time"],[1,"announcement-item"],["height","220px","styleClass","mb-2","width","100%"],["height","22px","styleClass","mb-2","width","80%"],["height","22px","styleClass","mb-2","width","60%"],["height","16px","styleClass","mb-2","width","50%"],["height","16px","width","40%"]],template:function(t,s){if(1&t&&(n.YNc(0,f,14,11,"ng-container",0),n.YNc(1,y,6,0,"ng-template",null,1,n.W1O)),2&t){const O=n.MAs(2);n.Q6J("ngIf",s.announcement)("ngIfElse",O)}},dependencies:function(){return[g,i.O5,i.H9,i.uU]},styles:[".announcement-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0;color:inherit}.announcement-item[_ngcontent-%COMP%]:hover > .announcement-item__img[_ngcontent-%COMP%]{transform:translateY(-5px);transition:transform .3s ease-in-out}.announcement-item__img[_ngcontent-%COMP%]{width:100%;padding-bottom:73%;position:relative;transition:.5s}.announcement-item__img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;border-radius:.5rem}.announcement-item__title[_ngcontent-%COMP%]{margin:.5rem 0 0;font-size:1.1rem;line-height:1.5rem;font-weight:600;color:#3b82f6}.announcement-item__price[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;line-height:1.5rem;font-weight:600}.announcement-item__location[_ngcontent-%COMP%], .announcement-item__time[_ngcontent-%COMP%]{color:#64748b;font-size:.9rem;line-height:1.3rem}"],changeDetection:0}),e})(),A=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[h]}),e})();function C(e,o){1&e&&n._UZ(0,"app-announcement-item",5),2&e&&n.Q6J("announcement",o.$implicit)}function k(e,o){if(1&e&&(n.ynx(0),n.TgZ(1,"div",3),n.YNc(2,C,1,1,"app-announcement-item",4),n.qZA(),n.BQk()),2&e){const t=n.oxw();n.xp6(2),n.Q6J("ngForOf",t.announcements)}}function x(e,o){1&e&&(n.ynx(0),n._uU(1," \u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0439! "),n.BQk())}function v(e,o){1&e&&(n.ynx(0),n._UZ(1,"app-announcement-item"),n.BQk())}function S(e,o){if(1&e&&(n.ynx(0),n.YNc(1,v,2,0,"ng-container",6),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.skeletonArr)}}const M=[{path:"",component:(()=>{class e{constructor(t,s){this._productsService=t,this._cdr=s,this.announcements=[],this.isLoading=!1,this.skeletonArr=new Array(16)}ngOnInit(){this.loadAnnouncements()}ngOnDestroy(){this.announcementsSub.unsubscribe()}loadAnnouncements(){this.isLoading=!0,this._productsService.fetchAnnouncements().subscribe(()=>{this.isLoading=!1}),this.announcementsSub=this._productsService.announcementsChanged.subscribe(t=>{this.announcements=t,this._cdr.markForCheck()}),this.announcements=this._productsService.getAnnouncements()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d),n.Y36(n.sBO))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-recommended-announcements"]],decls:7,vars:3,consts:[[1,"container"],[1,"recommendations-title"],[4,"ngIf"],[1,"announcements-grid"],[3,"announcement",4,"ngFor","ngForOf"],[3,"announcement"],[4,"ngFor","ngForOf"]],template:function(t,s){1&t&&(n.TgZ(0,"div",0)(1,"h4",1),n._uU(2,"\u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u0434\u043b\u044f \u0432\u0430\u0441"),n.qZA(),n.YNc(3,k,3,1,"ng-container",2),n.YNc(4,x,2,0,"ng-container",2),n.TgZ(5,"div",3),n.YNc(6,S,2,1,"ng-container",2),n.qZA()()),2&t&&(n.xp6(3),n.Q6J("ngIf",s.announcements.length>=1&&!s.isLoading),n.xp6(1),n.Q6J("ngIf",s.announcements.length<1&&!s.isLoading),n.xp6(2),n.Q6J("ngIf",s.isLoading))},dependencies:[i.sg,i.O5,_],styles:[".recommendations-title[_ngcontent-%COMP%]{padding-bottom:1.5rem;font-weight:600;font-size:1.5rem;line-height:2rem}.announcements-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,minmax(12.5rem,1fr));grid-gap:1.5rem;justify-content:center}@media (max-width: 1399.98px){.recommendations-title[_ngcontent-%COMP%]{padding:0 0 1.5rem .8rem}.announcements-grid[_ngcontent-%COMP%]{padding-inline:.8rem}}@media (max-width: 991.98px){.announcements-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,minmax(12.5rem,1fr))}}@media (max-width: 575.98px){.announcements-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(1,minmax(12.5rem,1fr))}}"],changeDetection:0}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[c.Bz.forChild(M),c.Bz]}),e})(),w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[b,m,i.ez,A]}),e})()}}]);